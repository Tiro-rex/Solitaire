{"version":3,"sources":["file:///D:/GAMIXLABS/Solitaire/assets/Script/GameScreen.ts"],"names":["_decorator","Component","Node","Prefab","instantiate","Vec2","Vec3","ccclass","property","GameScreen","distance","touchStart","arrayOfCard","h","isMoving","offSet","newPosition","lastPosition","OnLoad","reaveldCard","on","EventType","TOUCH_START","onTouchStart","bind","TOUCH_MOVE","onMoveStart","TOUCH_END","onTouchEnd","e","_allTouches","length","_point","getUILocation","swapNode","uiPosition","subtract","nodePos","node","getWorldPosition","x","y","worldPosition","OnClick","getDeckOfCard","i","card","cardPrefeb","addChild","push","console","log"],"mappings":";;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAgCC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;;;;;;OAC9E;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;4BAGjBS,U,WADZF,OAAO,CAAC,YAAD,C,UAEHC,QAAQ,CAACL,MAAD,C,UAERK,QAAQ,CAACN,IAAD,C,2BAJb,MACaO,UADb,SACgCR,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAMtCS,QANsC;AAAA,eAOtCC,UAPsC,GAOzB,IAAIN,IAAJ,EAPyB;AAAA,eAStCO,WATsC,GASjB,EATiB;AAAA,eAUtCC,CAVsC;AAAA,eAWtCC,QAXsC;AAAA,eAYtCC,MAZsC,GAY7B,IAAIV,IAAJ,EAZ6B;AAAA,eAatCW,WAbsC,GAaxB,IAAIV,IAAJ,EAbwB;AAAA,eActCW,YAdsC,GAcvB,IAAIZ,IAAJ,EAduB;AAAA;;AAgBtCa,QAAAA,MAAM,GAAG;AACL,eAAKC,WAAL,CAAiBC,EAAjB,CAAoBlB,IAAI,CAACmB,SAAL,CAAeC,WAAnC,EAAgD,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAhD;AACA,eAAKL,WAAL,CAAiBC,EAAjB,CAAoBlB,IAAI,CAACmB,SAAL,CAAeI,UAAnC,EAA+C,KAAKC,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAA/C;AACA,eAAKL,WAAL,CAAiBC,EAAjB,CAAoBlB,IAAI,CAACmB,SAAL,CAAeM,SAAnC,EAA8C,KAAKC,UAAL,CAAgBJ,IAAhB,CAAqB,IAArB,CAA9C;AACH;;AAEDD,QAAAA,YAAY,CAACM,CAAD,EAAW;AACnB,cAAIA,CAAC,CAACC,WAAF,CAAcC,MAAd,IAAwB,CAA5B,EAA+B;AAC3B,iBAAKrB,QAAL,GAAgB,CAAhB;AACA,iBAAKA,QAAL,GAAgBL,IAAI,CAACK,QAAL,CAAcmB,CAAC,CAACC,WAAF,CAAc,CAAd,EAAiBE,MAA/B,EAAuCH,CAAC,CAACC,WAAF,CAAc,CAAd,EAAiBE,MAAxD,CAAhB;AACH;;AACD,eAAKrB,UAAL,GAAkBkB,CAAC,CAACI,aAAF,EAAlB;AACH;;AACDP,QAAAA,WAAW,CAACG,CAAD,EAAW;AAClB;AACA;AACA;AACA,cAAIA,CAAC,CAACC,WAAF,CAAcC,MAAd,IAAwB,CAA5B,EAA+B;AAE3B,iBAAKG,QAAL,CAAcL,CAAd;AACA,iBAAKf,QAAL,GAAgB,IAAhB;AACH;AACJ;;AACDoB,QAAAA,QAAQ,CAACL,CAAD,EAAI;AAER,cAAIM,UAAU,GAAGN,CAAC,CAACI,aAAF,EAAjB;AACA5B,UAAAA,IAAI,CAAC+B,QAAL,CAAc,KAAKrB,MAAnB,EAA2BoB,UAA3B,EAAuC,KAAKxB,UAA5C;AACA,eAAKA,UAAL,GAAkBwB,UAAlB;AACA,cAAIE,OAAO,GAAG,KAAKC,IAAL,CAAUC,gBAAV,EAAd;AACA,eAAKvB,WAAL,GAAmB,IAAIV,IAAJ,CAAS+B,OAAO,CAACG,CAAR,GAAY,KAAKzB,MAAL,CAAYyB,CAAjC,EAAoCH,OAAO,CAACI,CAAR,GAAY,KAAK1B,MAAL,CAAY0B,CAA5D,EAA+D,CAA/D,CAAnB;AAEH;;AAEDb,QAAAA,UAAU,GAAG;AACT,eAAKd,QAAL,GAAgB,KAAhB,CADS,CAET;;AACA,eAAKwB,IAAL,CAAUI,aAAV,GAA0B,KAAK1B,WAA/B;AACH;;AAED2B,QAAAA,OAAO,GAAG;AACN,eAAKC,aAAL;AACH;;AAGDA,QAAAA,aAAa,GAAG;AACZ;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,gBAAIC,IAAI,GAAG1C,WAAW,CAAC,KAAK2C,UAAN,CAAtB;AACA,iBAAK5B,WAAL,CAAiB6B,QAAjB,CAA0BF,IAA1B;AACA,iBAAKjC,CAAL,GAAS,KAAKD,WAAL,CAAiBqC,IAAjB,CAAsBH,IAAtB,CAAT;AACAI,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAKtC,CAA1B;AACH;AACJ;;AApEqC,O","sourcesContent":["\nimport { _decorator, Component, Node, Prefab, instantiate, EventMouse, Touch, Vec2, Vec3 } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameScreen')\nexport class GameScreen extends Component {\n    @property(Prefab)\n    cardPrefeb: Prefab;\n    @property(Node)\n    reaveldCard: Node;\n\n    distance: number;\n    touchStart = new Vec2();\n\n    arrayOfCard: any[] = [];\n    h: any\n    isMoving: boolean;\n    offSet = new Vec2();\n    newPosition = new Vec3();\n    lastPosition = new Vec2()\n\n    OnLoad() {\n        this.reaveldCard.on(Node.EventType.TOUCH_START, this.onTouchStart.bind(this));\n        this.reaveldCard.on(Node.EventType.TOUCH_MOVE, this.onMoveStart.bind(this));\n        this.reaveldCard.on(Node.EventType.TOUCH_END, this.onTouchEnd.bind(this));\n    }\n\n    onTouchStart(e: Touch) {\n        if (e._allTouches.length == 2) {\n            this.distance = 0;\n            this.distance = Vec2.distance(e._allTouches[0]._point, e._allTouches[1]._point);\n        }\n        this.touchStart = e.getUILocation();\n    }\n    onMoveStart(e: Touch) {\n        // if (e._allTouches.length == 2) {\n        //     this.zoomNode(e)\n        // }\n        if (e._allTouches.length == 1) {\n\n            this.swapNode(e);\n            this.isMoving = true;\n        }\n    }\n    swapNode(e) {\n\n        let uiPosition = e.getUILocation();\n        Vec2.subtract(this.offSet, uiPosition, this.touchStart);\n        this.touchStart = uiPosition;\n        let nodePos = this.node.getWorldPosition() as unknown as Vec2;\n        this.newPosition = new Vec3(nodePos.x - this.offSet.x, nodePos.y - this.offSet.y, 0);\n\n    }\n\n    onTouchEnd() {\n        this.isMoving = false;\n        // console.log(\"touchend : \", this.newPosition)\n        this.node.worldPosition = this.newPosition;\n    }\n\n    OnClick() {\n        this.getDeckOfCard();\n    }\n\n\n    getDeckOfCard() {\n        //console.log(\"dhoom dhoom\");\n        for (let i = 0; i < 1; i++) {\n            let card = instantiate(this.cardPrefeb);\n            this.reaveldCard.addChild(card);\n            this.h = this.arrayOfCard.push(card);\n            console.log(\"Array\", this.h);\n        }\n    }\n}\n\n"]}