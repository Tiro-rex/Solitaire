{"version":3,"sources":["file:///D:/GAMIXLABS/Solitaire/assets/Script/ReaveldCard.ts"],"names":["_decorator","Component","Node","Label","Vec2","Vec3","Color","ccclass","property","ReaveldCard","cardColor","cardace","cardNumber","isMoving","distance","touchStart","offSet","newPosition","lastPosition","zoomPercentage","lastZoomPercentage","init","data","cardFace","string","suit","cardRank","rank","color","node","on","EventType","TOUCH_START","onTouchStart","bind","TOUCH_MOVE","onMoveStart","TOUCH_END","onTouchEnd","e","_allTouches","length","_point","getUILocation","subtract","getParent","getPosition","console","log","movsd","nodePos","setPosition","x","y"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, TERRAIN_HEIGHT_BASE, color, Label, Vec2, Vec3, Touch,Color } from 'cc';\nimport { Colour, Ranks, Suits } from './GameConstant';\nimport { CARDS_ARRAY } from './GameConstant';\nconst { ccclass, property } = _decorator;\n\n\n@ccclass('ReaveldCard')\nexport default class ReaveldCard extends Component {\n    @property(Label)\n    cardRank: Label;\n    @property(Label)\n    cardFace: Label;\n\n\n    cardColor: string;\n    cardace: string;\n    cardNumber: string;\n    isMoving: boolean;\n    distance: number;\n    touchStart = new Vec2();\n    offSet = new Vec2();\n    newPosition = new Vec3();\n    lastPosition = new Vec2()\n    zoomPercentage = 100;\n    lastZoomPercentage = 100;\n\n\n\n\n    init(data) {\n        // CARDS_ARRAY.values()\n        // console.log(data)\n        this.cardFace.string = data.suit;\n        this.cardRank.string = data.rank;\n        this.cardNumber = data.rank;\n        this.cardace = data.suit\n        if(this.cardace=='h'||'d'){\n            this.cardRank.color = new Color(255,0,0);\n        }\n\n        this.node.on(Node.EventType.TOUCH_START, this.onTouchStart.bind(this));\n        this.node.on(Node.EventType.TOUCH_MOVE, this.onMoveStart.bind(this));\n        this.node.on(Node.EventType.TOUCH_END, this.onTouchEnd.bind(this));\n    }\n    onTouchStart(e: Touch) {\n        if (e._allTouches.length == 2) {\n            this.distance = 0;\n            this.distance = Vec2.distance(e._allTouches[0]._point, e._allTouches[1]._point);\n        }\n\n        this.touchStart = e.getUILocation();\n        Vec2.subtract(this.offSet, this.node.getParent().getPosition() as unknown as Vec2, this.touchStart);\n        console.log(\"heyys\", this.cardace, this.cardNumber);\n\n\n\n    }\n    onMoveStart(e: Touch) {\n        // if (e._allTouches.length == 1) {\n\n        // this.move(e);\n        // }\n        let movsd = e.getUILocation();\n        Vec2.subtract(this.offSet, this.touchStart, movsd);\n        let nodePos = this.node.getPosition() as unknown as Vec2;\n        this.node.setPosition(nodePos.x - this.offSet.x, nodePos.y - this.offSet.y, 0.5);\n        this.touchStart = movsd;\n        // console.log(\"heyys3 \", movsd, this.node.getPosition());\n        // this.node.worldPosition = this.newPosition;\n\n\n    }\n    onTouchEnd(e: Touch) {\n\n        // console.log(\"heyys\", e);\n        //  this.node.worldPosition = this.newPosition;\n        // console.log(\"Position\", this.node.worldPosition);\n    }\n\n\n}\n\n\n"]}