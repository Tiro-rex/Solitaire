{"version":3,"sources":["file:///D:/GAMIXLABS/Solitaire/assets/Script/Pile.ts"],"names":["_decorator","Component","Prefab","instantiate","Collider2D","PhysicsSystem2D","Contact2DType","ActionTypes","ReaveldCard","ccclass","property","Pile","start","instance","enable","coll","node","getComponent","on","BEGIN_CONTACT","onBeginContact","self","other","tag","MOVE_CARD","console","log","stacklogic","stack","num","i","card1","cardPrefeb","init","arrayOfCard2","splice","delay","addChild","h2","arrayOfCard","push","lastCard","children","length","faceDown","active","faceUp"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Prefab, instantiate, EventMouse, Touch, Vec2, Vec3, Button, Collider2D, PhysicsSystem2D, Contact2DType } from 'cc';\nimport { Card } from './Card';\nimport { ActionTypes, CARDS_ARRAY } from './GameConstant';\nimport { GameManager } from './GameManager';\nimport ReaveldCard from './ReaveldCard';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Pile')\nexport class Pile extends Component {\n    @property(Prefab)\n    cardPrefeb: Prefab;\n\n    start() {\n        PhysicsSystem2D.instance.enable = true;\n\n        let coll = this.node.getComponent(Collider2D);\n        coll.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\n    }\n    onBeginContact(self: Collider2D, other: Collider2D) {\n\n        if (self.tag == 1 || ActionTypes.MOVE_CARD) {\n            console.log(\"stack1\");\n        }\n        if (self.tag == 2) {\n            console.log(\"stack2\");\n        }\n        if (self.tag == 3) {\n            console.log(\"stack3\");\n        }\n        if (self.tag == 4) {\n            console.log(\"stack4\");\n        }\n        if (self.tag == 5) {\n            console.log(\"stack5\");\n        }\n        if (self.tag == 6) {\n            console.log(\"stack6\");\n        }\n        if (self.tag == 7) {\n            console.log(\"stack7\");\n        }\n\n        // let selfcollider = event.selfCollider;\n        // let otherCollider = event.otherCollider;\n        // console.log(\"self\", selfcollider);\n        // console.log(\"other\", otherCollider);\n    }\n    async stacklogic(stack: Node, num) {\n\n        for (let i = 0; i < num; i++) {\n            let card1 = instantiate(this.cardPrefeb);\n            card1.getComponent(ReaveldCard).init(this.arrayOfCard2[0]);\n            this.arrayOfCard2.splice(0, 1);\n            await this.delay(200, stack.addChild(card1));\n            this.h2 = this.arrayOfCard.push(card1);\n        }\n        let lastCard: ReaveldCard = stack.children[stack.children.length - 1].getComponent(ReaveldCard)\n        lastCard.faceDown.active = false;\n        lastCard.faceUp.active = true;\n        // console.log(\"last\", this.lastindex);\n        //console.log(\"array\", this.h2);\n    }\n}"]}