{"version":3,"sources":["file:///D:/GAMIXLABS/Solitaire/assets/Script/GameScreen.ts"],"names":["_decorator","Component","Node","Prefab","instantiate","Vec2","Vec3","ReaveldCard","ccclass","property","GameScreen","distance","touchStart","arrayOfCard","h","isMoving","offSet","newPosition","lastPosition","OnLoad","reaveldCard","on","EventType","TOUCH_START","onTouchStart","bind","TOUCH_MOVE","onMoveStart","TOUCH_END","onTouchEnd","swapNode","e","uiPosition","getUILocation","subtract","nodePos","node","getWorldPosition","x","y","worldPosition","OnClick","getDeckOfCard","i","card","cardPrefeb","addChild","getComponent","init","push","console","log"],"mappings":"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","sourcesContent":["\nimport { _decorator, Component, Node, Prefab, instantiate, EventMouse, Touch, Vec2, Vec3 } from 'cc';\nimport ReaveldCard from './ReaveldCard';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameScreen')\nexport class GameScreen extends Component {\n    @property(Prefab)\n    cardPrefeb: Prefab;\n    @property(Node)\n    reaveldCard: Node;\n\n    distance: number;\n    touchStart = new Vec2();\n\n    arrayOfCard: any[] = [];\n    h: any\n    isMoving: boolean;\n    offSet = new Vec2();\n    newPosition = new Vec3();\n    lastPosition = new Vec2()\n\n    OnLoad() {\n        this.reaveldCard.on(Node.EventType.TOUCH_START, this.onTouchStart.bind(this));\n        this.reaveldCard.on(Node.EventType.TOUCH_MOVE, this.onMoveStart.bind(this));\n        this.reaveldCard.on(Node.EventType.TOUCH_END, this.onTouchEnd.bind(this));\n    }\n\n  \n    swapNode(e) {\n\n        let uiPosition = e.getUILocation();\n        Vec2.subtract(this.offSet, uiPosition, this.touchStart);\n        this.touchStart = uiPosition;\n        let nodePos = this.node.getWorldPosition() as unknown as Vec2;\n        this.newPosition = new Vec3(nodePos.x - this.offSet.x, nodePos.y - this.offSet.y, 0);\n\n    }\n\n    onTouchEnd() {\n        this.isMoving = false;\n        // console.log(\"touchend : \", this.newPosition)\n        this.node.worldPosition = this.newPosition;\n    }\n\n    OnClick() {\n        this.getDeckOfCard();\n    }\n\n\n    getDeckOfCard() {\n        //console.log(\"dhoom dhoom\");\n        for (let i = 0; i < 1; i++) {\n            let card = instantiate(this.cardPrefeb);\n            this.reaveldCard.addChild(card);\n            card.getComponent(ReaveldCard).init();\n            this.h = this.arrayOfCard.push(card);\n            console.log(\"Array\", this.h);\n        }\n    }\n\n    // init(){\n    //     this.node.on(Node.EventType.TOUCH_START, this.onTouchStart.bind(this));\n    //     this.node.on(Node.EventType.TOUCH_MOVE, this.onMoveStart.bind(this));\n    //     this.node.on(Node.EventType.TOUCH_END, this.onTouchEnd.bind(this));\n    // }\n}\n\n"]}